{% capture blocks %}
  {% content_for 'blocks' %}
{% endcapture %}

<section
  class="
    {{ section.settings.text_color }}
    {{ section.settings.bg }}
    {{ section.settings.font_family }}-size-{{ section.settings.text_size }}
    group/section
  "
  data-section-id="{{ section.id }}"
  data-section-type="pair-text-spotlight"

  x-data="{ hasBeenViewed: false }"
  :data-viewed="hasBeenViewed"
  x-intersect:enter.once.margin.-50%.0%.-50%.100%="hasBeenViewed = true"

  style="
    --PT: {{ section.settings.padding_top }}px;
    --PB: {{ section.settings.padding_bottom }}px;
    --FLEX-POSITION: {{ flex_horizontal_position }};
    --BRICK-GUTTER: {{ section.settings.brick_gutter }}px;
    {% if section.settings.bg_color != blank %}background-color: {{ section.settings.bg_color }};{% endif %}
  "
  x-data
>
  <div class="{{ section.settings.width }} section-padding {{ section.settings.align_text }}" data-wrapper>
    {% render 'core-text-spotlight', _settings: section.settings, content: blocks, class: text_class %}
  </div>
</section>

{% schema %}
{
	"name": "Spotlight Text",
	"settings": [
		{
			"type": "header",
			"content": "Style"
		},
		{
			"type": "select",
			"id": "align_text",
			"label": "Text alignment",
			"default": "text-left",
			"options": [
				{
					"value": "text-left",
					"label": "Left"
				},
				{
					"value": "text-center",
					"label": "Centered"
				},
				{
					"value": "text-right",
					"label": "Right"
				}
			]
		},
		{
			"type": "select",
			"id": "text_color",
			"label": "Text color",
			"default": "text--neutral",
			"options": [
				{
					"value": "text--neutral",
					"label": "Normal text"
				},
				{
					"value": "text--white",
					"label": "White"
				},
				{
					"value": "text--primary",
					"label": "Primary accent"
				},
				{
					"value": "text--secondary",
					"label": "Secondary accent"
				},
				{
					"value": "text--black",
					"label": "Black"
				},
				{
					"value": "text--invert--primary",
					"label": "Primary dark accent"
				},
				{
					"value": "text--invert--secondary",
					"label": "Secondary dark accent"
				},
				{
					"value": "text--invert",
					"label": "Inverted text color"
				},
				{
					"value": "text--bright--primary",
					"label": "Primary bright accent"
				},
				{
					"value": "text--bright--secondary",
					"label": "Secondary bright accent"
				}
			]
		},
		{
			"type": "select",
			"id": "bg",
			"label": "Background color",
			"default": "palette--light bg--neutral",
			"options": [
				{
					"value": "palette--light bg--neutral",
					"label": "Default"
				},
				{
					"value": "palette--light bg--accent",
					"label": "Light"
				},
				{
					"value": "palette--dark bg--invert",
					"label": "Dark"
				},
				{
					"value": "palette--dark bg--invert--accent",
					"label": "Dark accent"
				},
				{
					"value": "palette--bright bg--bright",
					"label": "Bright"
				},
				{
					"value": "palette--bright bg--bright--accent",
					"label": "Bright accent"
				}
			]
		},
		{
			"type": "range",
			"id": "text_size",
			"label": "Text size",
			"min": 1,
			"max": 15,
			"step": 1,
			"default": 13
		},
		{
			"type": "select",
			"id": "font_family",
			"label": "Font",
			"default": "heading",
			"options": [
				{
					"value": "heading",
					"label": "Title"
				},
				{
					"value": "body",
					"label": "Body"
				},
				{
					"value": "accent",
					"label": "Accent"
				}
			]
		},
		{
			"type": "checkbox",
			"id": "enable_scroll_animation",
			"label": "Animate text with scroll",
			"default": true
		},
		{
			"type": "header",
			"content": "Section spacing"
		},
		{
			"type": "select",
			"id": "width",
			"label": "Width",
			"default": "wrapper",
			"options": [
				{
					"value": "wrapper--full",
					"label": "Full width padded"
				},
				{
					"value": "wrapper",
					"label": "Page width"
				},
				{
					"value": "wrapper--narrow",
					"label": "Page width narrow"
				},
				{
					"value": "wrapper--tiny",
					"label": "Page width extra narrow"
				}
			]
		},
		{
			"type": "range",
			"id": "padding_top",
			"min": 0,
			"max": 180,
			"step": 2,
			"unit": "px",
			"label": "Padding top",
			"default": 36
		},
		{
			"type": "range",
			"id": "padding_bottom",
			"min": 0,
			"max": 180,
			"step": 2,
			"unit": "px",
			"label": "Padding bottom",
			"default": 36
		},
	],
	"blocks": [
		{
			"type": "_spotlight-autohighlight-text",
		},
		{
			"type": "_spotlight-image",
		},
		{
			"type": "_spotlight-pro-text"
		}
	],
	"presets": [
		{
			"name": "Spotlight Text",
			"blocks": [
				{
					"type": "_spotlight-autohighlight-text",
					"settings": {
						"text": "<em><strong>Grab</strong></em> your customer's <em><strong>attention</strong></em> with <em><strong>spotlight text</strong></em>"
					}
				},
			]
		}
	],
	"disabled_on": {
		"groups": [
			"header",
			"custom.overlays"
		]
	}
}
{% endschema %}
